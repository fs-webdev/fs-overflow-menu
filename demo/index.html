<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>fs-overflow-menu demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../fs-overflow-menu.html">

    <style is="custom-style" include="demo-pages-shared-styles">
    </style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic Demo</h3>
      <demo-snippet>
        <template>

        <div id="target">
          <button>Show Overflow Menu</button>
        </div>

        <fs-overflow-menu drop-position='left' hidden id='menu-one'>
          <ul>
            <li>Peter</li>
            <li>Paul</li>
            <li>Mary</li>
          </ul>
        </fs-overflow-menu>

        <script>
          var menu = document.querySelector('#menu-one');
          var button = document.querySelector('button');

          //Position the menu relative to the button
          menu.positionMenu({
            target: button
          });

          //Set up the button to trigger the menu
          var showMenu = function(){
            menu.toggle();
          }
          button.addEventListener('tap', showMenu);

          //Toggle a checkmark icon when a list item is clicked
          Array.prototype.forEach.call(document.getElementsByTagName('li'), function(el){
            el.addEventListener('tap', function(){
              if(el.getAttribute('active') || el.getAttribute('active') === ''){
                el.removeAttribute('active');
              } else {
                el.setAttribute('active', '');
              }
            })
          });
        </script>

        </template>
      </demo-snippet>

      <h3>Context Menu Demo</h3>
      <demo-snippet>
        <template>
          <div id="clickable-area">
          </div>
          <h4>Click in the box above!</h4>

          <fs-overflow-menu hidden id='menu-two'>
            <ul>
              <li>Paul</li>
              <li>John</li>
              <li>George</li>
              <li>Ringo</li>
            </ul>
          </fs-overflow-menu>

          <script>
            document.getElementById('clickable-area').addEventListener('tap', function(event){
              document.getElementById('menu-two').showContextMenu({x:event.detail.sourceEvent.pageX, y:event.detail.sourceEvent.pageY});
            });
          </script>

          <style>
            #clickable-area{
              background-color: rebeccapurple;
              height: 300px;
              width: 300px;
              cursor: pointer;
            }
          </style>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
